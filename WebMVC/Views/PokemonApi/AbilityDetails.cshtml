@using ApiModelsResponse.ViewModels
@model AbilityDetailsViewModel

@{
    Layout = "_Layout";
}

<div class="container">
    <div class="ability-details">
        <h2 class="ability-name">@Model.Name.ToUpper()</h2>

        <div class="ability-effect">
            <h3>Effect</h3>
            <p>@Model.EffectEntries</p>
        </div>
        <div>
            <h1>Pokemons who has the ability</h1>

            <div class="pokemon-grid">
                @foreach (var pokemon in Model.Pokemon)
                {
                    <a class="pokemon-card hoverElement" href="@Url.Action("Details", "PokemonApi", new { pokemonName = pokemon.Name})">
                        <img class="pokemon-image" src="https://raw.githubusercontent.com/PokeAPI/sprites/master/sprites/pokemon/other/official-artwork/@(pokemon.Id).png" />
                        <h4>@pokemon.Name.ToUpper()</h4>
                    </a>
                }
            </div>
        </div>
    </div>
</div>

<audio id="hover-audio" src="assets/sounds/hover.wav" preload="auto"></audio>

<script>
    var hoverElements = document.querySelectorAll(".hoverElement");
    var hoverSound = document.getElementById("hover-audio");

    hoverElements.forEach(element => {
        element.addEventListener("mouseenter", () => {
            var audio = new Audio('../assets/sounds/hover.wav');
            audio.volume = 0.3;
                if(soundOn)
                    audio.play();
        });
    });
</script>